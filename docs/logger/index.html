<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>inovopy.logger API documentation</title>
<meta name="description" content="Logger Module
This module provide a simple logging framework,
which allow a single logger to log to multiple different target
with different level of â€¦" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>inovopy.logger</code></h1>
</header>
<section id="section-intro">
<h1 id="logger-module">Logger Module</h1>
<p>This module provide a simple logging framework,
which allow a single logger to log to multiple different target
with different level of verbosity</p>
<h2 id="classes">Classes</h2>
<ul>
<li><code><a title="inovopy.logger.LogLevel" href="#inovopy.logger.LogLevel">LogLevel</a></code> : An enum representing different level of logging</li>
<li><code><a title="inovopy.logger.LogTarget" href="#inovopy.logger.LogTarget">LogTarget</a></code> : An interface for logger to log message to</li>
<li><code><a title="inovopy.logger.Logger" href="#inovopy.logger.Logger">Logger</a></code> : A class for managing multiple log target</li>
<li><code><a title="inovopy.logger.ConsoleTarget" href="#inovopy.logger.ConsoleTarget">ConsoleTarget</a></code> : A class for logging message to console</li>
<li><code><a title="inovopy.logger.RollingFileTarget" href="#inovopy.logger.RollingFileTarget">RollingFileTarget</a></code> : A class for logging message to rolling files</li>
</ul>
<h2 id="example">Example</h2>
<pre><code class="language-python">from inovopy.logger import Logger
example_logger = Logger.default(&quot;Example&quot;)
example_logger.trace(&quot;This is a tracing level message.&quot;)
example_logger.debug(&quot;This is a debug level message.&quot;)
example_logger.info(&quot;This is a info level message.&quot;)
example_logger.warn(&quot;This is a warn level message.&quot;)
example_logger.error(&quot;This is a error level message.&quot;)
</code></pre>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;
# Logger Module
This module provide a simple logging framework, 
which allow a single logger to log to multiple different target
with different level of verbosity

## Classes
- `LogLevel` : An enum representing different level of logging
- `LogTarget` : An interface for logger to log message to
- `Logger` : A class for managing multiple log target
- `ConsoleTarget` : A class for logging message to console
- `RollingFileTarget` : A class for logging message to rolling files

## Example
```python
from inovopy.logger import Logger
example_logger = Logger.default(&#34;Example&#34;)
example_logger.trace(&#34;This is a tracing level message.&#34;)
example_logger.debug(&#34;This is a debug level message.&#34;)
example_logger.info(&#34;This is a info level message.&#34;)
example_logger.warn(&#34;This is a warn level message.&#34;)
example_logger.error(&#34;This is a error level message.&#34;)
```
&#34;&#34;&#34;
import os
from typing import Optional, IO, cast
from abc import ABC, abstractmethod
from enum import IntEnum

class LogLevel(IntEnum):
    &#34;&#34;&#34;
    # LogLevel
    LogLevel is an enum class representing different of logging verbosity

    ## Levels
    The different logging level are 
    
    - `TRACE = 0`, for detail tracing, highest level of verbosity 
    - `DEBUG = 1`, for debug information
    - `INFO  = 2`, for general information
    - `WARN  = 3`, for recoverable error
    - `ERROR = 4`, for irrecoverable error
    - `NOLOG = 5`, no logging at all
    &#34;&#34;&#34;
    TRACE = 0
    DEBUG = 1
    INFO  = 2
    WARN  = 3
    ERROR = 4
    NOLOG = 5

    def to_str(self) -&gt; str:
        &#34;&#34;&#34;
        ## Return
        `str`: a string representation of the log level
        &#34;&#34;&#34;
        match self:
            case LogLevel.TRACE:
                return &#34;TRACE&#34;
            case LogLevel.DEBUG:
                return &#34;DEBUG&#34;
            case LogLevel.INFO:
                return &#34;INFO&#34;
            case LogLevel.WARN:
                return &#34;WARN&#34;
            case LogLevel.ERROR:
                return &#34;ERROR&#34;
            case _:
                return &#34;&#34;

class LogTarget(ABC):
    &#34;&#34;&#34;
    # LogTarget
    This is an interface for logger to log message into

    ## Usage
    You can make you own class implement this interface 
    for custom logging targets
    
    ```python
    class MyTarget(LogTarget):
        def __init__(self):
            self.log_level = LogLevel.INFO
        def log_to_target(self, msg: str, log_level: LogLevel):
            ## your own implementation
            return
        def get_log_level(self) -&gt; LogLevel:
            return self.log_level
    ```

    Then you can make add this target to the logger

    ```python
    example_logger : Logger = Logger.default(&#34;Example&#34;)
    example_logger.add_target(MyTarget())
    ```
    &#34;&#34;&#34;
    @abstractmethod
    def log_to_target(self, msg:str, log_level: LogLevel):
        &#34;&#34;&#34;
        log message to target with a specific log level.

        ## Parameters:
        - `msg : str` : the message to log
        - `log_level : LogLevel` : log level of the message 
        &#34;&#34;&#34;
    @abstractmethod
    def get_log_level(self) -&gt; LogLevel:
        &#34;&#34;&#34;
        getter for the target current log level
        
        ## Return:
        `LogLevel`: the log level of the target
        &#34;&#34;&#34;


class Logger:
    &#34;&#34;&#34;
    # Logger
    A class for managing different logging target.

    Allow you to log to different logging target with only one line.

    ## Example
    ```python
    from inovopy.logger import Logger
    example_logger = Logger.default()
    example_logger = Logger.default(&#34;Example&#34;)
    example_logger.trace(&#34;This is a tracing level message.&#34;)
    example_logger.debug(&#34;This is a debug level message.&#34;)
    example_logger.info(&#34;This is a info level message.&#34;)
    example_logger.warn(&#34;This is a warn level message.&#34;)
    example_logger.error(&#34;This is a error level message.&#34;)
    ```
    &#34;&#34;&#34;
    def __init__(self):
        &#34;&#34;&#34;
        initalize the logger with no logging target
        &#34;&#34;&#34;
        self.__targets : list[LogTarget] = []

    def log(self, msg: str, log_level: LogLevel):
        &#34;&#34;&#34;
        log a message with a specified log level to all of logger&#39;s target

        the input message will be tag with its log level

        e.g. a message `abc` with level `DEBUG` will be formatted as  `DEBUG  | abc`

        the message will only log to the target if the target&#39;s log level
        if smaller than the message logging level

        ## Parameter:
        - `msg : str` : message to log
        - `log_level` : log level of the message
        &#34;&#34;&#34;
        msg = f&#34;{log_level.to_str(): &lt;6} | {msg}&#34;
        for target in self.__targets:
            if target.get_log_level() &lt;= log_level:
                target.log_to_target(msg, log_level)

    def add_target(self, target: LogTarget):
        &#34;&#34;&#34;
        add a logging target to the logger

        ## Parameter
        - `target: LogTarget` : an object that implement `LogTarget`
        &#34;&#34;&#34;
        self.__targets.append(target)

    @classmethod
    def default(cls, name:str) -&gt; &#39;Logger&#39;:
        &#34;&#34;&#34;
        construct an default logger for command usage

        it contain a console target, and a rolling files targets.

        ## Parameters:
        - `name : str` : the name to initalize the target with

        ## Return:
        `Logger` : the constructed logger
        &#34;&#34;&#34;
        logger = Logger()
        logger.add_default_target(name)
        return logger

    def add_default_target(self, name: str):
        &#34;&#34;&#34;
        add default target to a logger

        it contain a console target, and a rolling files targets.

       ## Parameters:
        - `name : str` : the name to initalize the target with
        &#34;&#34;&#34;
        self.add_target(ConsoleTarget(name=name))
        self.add_target(RollingFileTarget(name=name))

    def trace(self, msg: str):
        &#34;&#34;&#34;
        log a message with `TRACE` level

        ## Parameter:
        - `msg : str` : message to log
        &#34;&#34;&#34;
        return self.log(msg, LogLevel.TRACE)

    def debug(self, msg: str):
        &#34;&#34;&#34;
        log a message with `DEBUG` level

        ## Parameter:
        - `msg : str` : message to log
        &#34;&#34;&#34;
        return self.log(msg, LogLevel.DEBUG)

    def info(self, msg: str):
        &#34;&#34;&#34;
        log a message with `INFO` level

        ## Parameter:
        - `msg : str` : message to log
        &#34;&#34;&#34;
        return self.log(msg, LogLevel.INFO)

    def warn(self, msg: str):
        &#34;&#34;&#34;
        log a message with `WARN` level

        ## Parameter:
        - `msg : str` : message to log
        &#34;&#34;&#34;
        return self.log(msg, LogLevel.WARN)

    def error(self, msg: str):
        &#34;&#34;&#34;
        log a message with `ERROR` level

        ## Parameter:
        - `msg : str` : message to log
        &#34;&#34;&#34;
        return self.log(msg, LogLevel.ERROR)


class ConsoleTarget(LogTarget):
    &#34;&#34;&#34;
    # ConsoleTarget
    A class for printing log message to console

    it will print:
    - `INFO` message as green 
    - `WARN` message as yellow 
    - `ERROR` message as red 
    &#34;&#34;&#34;

    NAME_PAD_SIZE = 10
    &#34;&#34;&#34;static class variable for the name pad size of the console target&#34;&#34;&#34;

    class ConsoleColor:
        &#34;&#34;&#34;
        a internal class for changing console display color
        &#34;&#34;&#34;
        RED = &#39;\033[31m&#39;
        YELLOW = &#39;\033[33m&#39;
        GREEN = &#39;\033[32m&#39;
        RESET = &#39;\033[0m&#39;


    def __init__(self, name:str, log_level: LogLevel= LogLevel.INFO):
        &#34;&#34;&#34;
        initalize a logger with a name and log level

        ## Parameters:
        - `name : str` : name of the console target
        - `log_level : LogLevel` : log level of the console target
        &#34;&#34;&#34;
        self.name : str = name
        self.log_level : LogLevel = log_level
        ConsoleTarget.NAME_PAD_SIZE = min(max(len(self.name), ConsoleTarget.NAME_PAD_SIZE),30)

    def get_log_level(self) -&gt; LogLevel:
        return self.log_level

    def log_to_target(self, msg: str, log_level: LogLevel):

        msg = f&#34;{self.name.ljust(ConsoleTarget.NAME_PAD_SIZE)} | {msg}&#34;

        cc = ConsoleTarget.ConsoleColor
        match log_level:
            case LogLevel.INFO:
                msg = f&#34;{cc.GREEN}{msg}{cc.RESET}&#34;
            case LogLevel.WARN:
                msg = f&#34;{cc.YELLOW}{msg}{cc.RESET}&#34;
            case LogLevel.ERROR:
                msg = f&#34;{cc.RED}{msg}{cc.RESET}&#34;
            case _:
                pass
        print(msg)

class RollingFileTarget(LogTarget):
    &#34;&#34;&#34;
    # RollingFileTarget
    A class for storing log message to rolling files

    ## Field
    - `name : str` : name of the target
    - `log_level` : log level of the target
    - `max_roll` : number of max files in rolling
    - `max_size` : max size of the files before rolling

    ## Usage 
    Rolling file targets are not enabled by default,
    to enabled rolling file targets you can:
    - ### Set Environment Variables
    set environment variable `INOVO_LOG_DIR` to desire directory for storing logs files
    - ### Set Class Variable of `RollingFileTarget`
    ```python
    RollingFileTarget.ROOT_DIR = &#34;./your/desire/logging/path&#34;
        ```
    
    ## Rolling Files
    ### Directory &amp; Files
    when the `ROOT_DIR` is set,
    it will create sub-directory of its `name`, and a `ROOT_DIR/name/name.0.log`
    and write to the file.
    ```
    ROOT_DIR
        L name
            L name.0.log
    ```
    ### Rolling
    after the file size of the log file exceed the `max_size`
    it will rolling the file `name.0.log -&gt; name.1.log` and create a new `name.0.log`
    ```
    ROOT_DIR
        L name
            L name.0.log  &lt;- current writing
            L name.1.log  &lt;- history
    ```
    ### Rolling Limit
    `max_roll` specify the max number of file in rolling, 
    if the number of file exceed `max_roll` the oldest file will be discarded.
    thus keeping the all the log file never exceed a predeterminated size
    &#34;&#34;&#34;
    ROOT_DIR : Optional[str] = os.environ.get(&#34;INOVO_LOG_DIR&#34;)
    &#34;&#34;&#34;root directory of all log&#34;&#34;&#34;

    def __init__(
            self,
            name: str,
            log_level: LogLevel = LogLevel.TRACE,
            max_roll: int = 10,
            max_size: int =  1_000_000,
        ):
        &#34;&#34;&#34;
        initalize the logger
        ## Parameter
        - `name : str` : name of the target
        - `log_level` : log level of the target
        - `max_roll` : number of max files in rolling
        - `max_size` : max size of the files before rolling
        &#34;&#34;&#34;
        self.name : str = name
        self.log_level : LogLevel = log_level
        self.max_roll : int = max_roll
        self.max_size : int = max_size
        self.__f : Optional[IO] = None

    @property
    def log_dir(self)-&gt;str:
        &#34;&#34;&#34;
        get the log sub directoy of the logger
        &#34;&#34;&#34;
        root_dir : str = cast(str, RollingFileTarget.ROOT_DIR)
        return os.path.join(root_dir, self.name)

    def get_log_level(self) -&gt; LogLevel:
        return self.log_level

    def log_to_target(self, msg: str, log_level: LogLevel):
        if RollingFileTarget.ROOT_DIR is None:
            return

        if self.__f is None:
            self.roll()

        f : IO = cast(IO, self.__f)

        f.write(f&#34;{msg}\n&#34;)
        f.flush()

        if os.path.getsize(os.path.join(self.log_dir, f&#34;{self.name}.0.log&#34;)) &gt; self.max_size:
            f.close()
            self.__f = None

    def roll(self):
        &#34;&#34;&#34;
        roll all the log files
        &#34;&#34;&#34;
        if RollingFileTarget.ROOT_DIR is None:
            return

        if not os.path.isdir(self.log_dir):
            os.makedirs(self.log_dir)

        for i in reversed(range(self.max_roll)):
            try:
                os.replace(
                    os.path.join(self.log_dir, f&#34;{self.name}.{i}.log&#34;),
                    os.path.join(self.log_dir, f&#34;{self.name}.{i+1}.log&#34;)
                )
            except FileNotFoundError:
                pass

        self.__f = open(os.path.join(self.log_dir, f&#34;{self.name}.0.log&#34;), &#34;w&#34;, encoding=&#34;utf-8&#34;)

    def __del__(self):
        self.__f = None</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="inovopy.logger.ConsoleTarget"><code class="flex name class">
<span>class <span class="ident">ConsoleTarget</span></span>
<span>(</span><span>name:Â str, log_level:Â <a title="inovopy.logger.LogLevel" href="#inovopy.logger.LogLevel">LogLevel</a>Â =Â LogLevel.INFO)</span>
</code></dt>
<dd>
<div class="desc"><h1 id="consoletarget">ConsoleTarget</h1>
<p>A class for printing log message to console</p>
<p>it will print:
- <code>INFO</code> message as green
- <code>WARN</code> message as yellow
- <code>ERROR</code> message as red </p>
<p>initalize a logger with a name and log level</p>
<h2 id="parameters">Parameters:</h2>
<ul>
<li><code>name : str</code> : name of the console target</li>
<li><code>log_level : LogLevel</code> : log level of the console target</li>
</ul></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ConsoleTarget(LogTarget):
    &#34;&#34;&#34;
    # ConsoleTarget
    A class for printing log message to console

    it will print:
    - `INFO` message as green 
    - `WARN` message as yellow 
    - `ERROR` message as red 
    &#34;&#34;&#34;

    NAME_PAD_SIZE = 10
    &#34;&#34;&#34;static class variable for the name pad size of the console target&#34;&#34;&#34;

    class ConsoleColor:
        &#34;&#34;&#34;
        a internal class for changing console display color
        &#34;&#34;&#34;
        RED = &#39;\033[31m&#39;
        YELLOW = &#39;\033[33m&#39;
        GREEN = &#39;\033[32m&#39;
        RESET = &#39;\033[0m&#39;


    def __init__(self, name:str, log_level: LogLevel= LogLevel.INFO):
        &#34;&#34;&#34;
        initalize a logger with a name and log level

        ## Parameters:
        - `name : str` : name of the console target
        - `log_level : LogLevel` : log level of the console target
        &#34;&#34;&#34;
        self.name : str = name
        self.log_level : LogLevel = log_level
        ConsoleTarget.NAME_PAD_SIZE = min(max(len(self.name), ConsoleTarget.NAME_PAD_SIZE),30)

    def get_log_level(self) -&gt; LogLevel:
        return self.log_level

    def log_to_target(self, msg: str, log_level: LogLevel):

        msg = f&#34;{self.name.ljust(ConsoleTarget.NAME_PAD_SIZE)} | {msg}&#34;

        cc = ConsoleTarget.ConsoleColor
        match log_level:
            case LogLevel.INFO:
                msg = f&#34;{cc.GREEN}{msg}{cc.RESET}&#34;
            case LogLevel.WARN:
                msg = f&#34;{cc.YELLOW}{msg}{cc.RESET}&#34;
            case LogLevel.ERROR:
                msg = f&#34;{cc.RED}{msg}{cc.RESET}&#34;
            case _:
                pass
        print(msg)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="inovopy.logger.LogTarget" href="#inovopy.logger.LogTarget">LogTarget</a></li>
<li>abc.ABC</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="inovopy.logger.ConsoleTarget.ConsoleColor"><code class="name">var <span class="ident">ConsoleColor</span></code></dt>
<dd>
<div class="desc"><p>a internal class for changing console display color</p></div>
</dd>
<dt id="inovopy.logger.ConsoleTarget.NAME_PAD_SIZE"><code class="name">var <span class="ident">NAME_PAD_SIZE</span></code></dt>
<dd>
<div class="desc"><p>static class variable for the name pad size of the console target</p></div>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="inovopy.logger.LogTarget" href="#inovopy.logger.LogTarget">LogTarget</a></b></code>:
<ul class="hlist">
<li><code><a title="inovopy.logger.LogTarget.get_log_level" href="#inovopy.logger.LogTarget.get_log_level">get_log_level</a></code></li>
<li><code><a title="inovopy.logger.LogTarget.log_to_target" href="#inovopy.logger.LogTarget.log_to_target">log_to_target</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="inovopy.logger.LogLevel"><code class="flex name class">
<span>class <span class="ident">LogLevel</span></span>
<span>(</span><span>value, names=None, *, module=None, qualname=None, type=None, start=1)</span>
</code></dt>
<dd>
<div class="desc"><h1 id="loglevel">LogLevel</h1>
<p>LogLevel is an enum class representing different of logging verbosity</p>
<h2 id="levels">Levels</h2>
<p>The different logging level are </p>
<ul>
<li><code>TRACE = 0</code>, for detail tracing, highest level of verbosity </li>
<li><code>DEBUG = 1</code>, for debug information</li>
<li><code>INFO
= 2</code>, for general information</li>
<li><code>WARN
= 3</code>, for recoverable error</li>
<li><code>ERROR = 4</code>, for irrecoverable error</li>
<li><code>NOLOG = 5</code>, no logging at all</li>
</ul></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class LogLevel(IntEnum):
    &#34;&#34;&#34;
    # LogLevel
    LogLevel is an enum class representing different of logging verbosity

    ## Levels
    The different logging level are 
    
    - `TRACE = 0`, for detail tracing, highest level of verbosity 
    - `DEBUG = 1`, for debug information
    - `INFO  = 2`, for general information
    - `WARN  = 3`, for recoverable error
    - `ERROR = 4`, for irrecoverable error
    - `NOLOG = 5`, no logging at all
    &#34;&#34;&#34;
    TRACE = 0
    DEBUG = 1
    INFO  = 2
    WARN  = 3
    ERROR = 4
    NOLOG = 5

    def to_str(self) -&gt; str:
        &#34;&#34;&#34;
        ## Return
        `str`: a string representation of the log level
        &#34;&#34;&#34;
        match self:
            case LogLevel.TRACE:
                return &#34;TRACE&#34;
            case LogLevel.DEBUG:
                return &#34;DEBUG&#34;
            case LogLevel.INFO:
                return &#34;INFO&#34;
            case LogLevel.WARN:
                return &#34;WARN&#34;
            case LogLevel.ERROR:
                return &#34;ERROR&#34;
            case _:
                return &#34;&#34;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>enum.IntEnum</li>
<li>builtins.int</li>
<li>enum.Enum</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="inovopy.logger.LogLevel.DEBUG"><code class="name">var <span class="ident">DEBUG</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="inovopy.logger.LogLevel.ERROR"><code class="name">var <span class="ident">ERROR</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="inovopy.logger.LogLevel.INFO"><code class="name">var <span class="ident">INFO</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="inovopy.logger.LogLevel.NOLOG"><code class="name">var <span class="ident">NOLOG</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="inovopy.logger.LogLevel.TRACE"><code class="name">var <span class="ident">TRACE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="inovopy.logger.LogLevel.WARN"><code class="name">var <span class="ident">WARN</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="inovopy.logger.LogLevel.to_str"><code class="name flex">
<span>def <span class="ident">to_str</span></span>(<span>self) â€‘>Â str</span>
</code></dt>
<dd>
<div class="desc"><h2 id="return">Return</h2>
<p><code>str</code>: a string representation of the log level</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def to_str(self) -&gt; str:
    &#34;&#34;&#34;
    ## Return
    `str`: a string representation of the log level
    &#34;&#34;&#34;
    match self:
        case LogLevel.TRACE:
            return &#34;TRACE&#34;
        case LogLevel.DEBUG:
            return &#34;DEBUG&#34;
        case LogLevel.INFO:
            return &#34;INFO&#34;
        case LogLevel.WARN:
            return &#34;WARN&#34;
        case LogLevel.ERROR:
            return &#34;ERROR&#34;
        case _:
            return &#34;&#34;</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="inovopy.logger.LogTarget"><code class="flex name class">
<span>class <span class="ident">LogTarget</span></span>
</code></dt>
<dd>
<div class="desc"><h1 id="logtarget">LogTarget</h1>
<p>This is an interface for logger to log message into</p>
<h2 id="usage">Usage</h2>
<p>You can make you own class implement this interface
for custom logging targets</p>
<pre><code class="language-python">class MyTarget(LogTarget):
    def __init__(self):
        self.log_level = LogLevel.INFO
    def log_to_target(self, msg: str, log_level: LogLevel):
        ## your own implementation
        return
    def get_log_level(self) -&gt; LogLevel:
        return self.log_level
</code></pre>
<p>Then you can make add this target to the logger</p>
<pre><code class="language-python">example_logger : Logger = Logger.default(&quot;Example&quot;)
example_logger.add_target(MyTarget())
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class LogTarget(ABC):
    &#34;&#34;&#34;
    # LogTarget
    This is an interface for logger to log message into

    ## Usage
    You can make you own class implement this interface 
    for custom logging targets
    
    ```python
    class MyTarget(LogTarget):
        def __init__(self):
            self.log_level = LogLevel.INFO
        def log_to_target(self, msg: str, log_level: LogLevel):
            ## your own implementation
            return
        def get_log_level(self) -&gt; LogLevel:
            return self.log_level
    ```

    Then you can make add this target to the logger

    ```python
    example_logger : Logger = Logger.default(&#34;Example&#34;)
    example_logger.add_target(MyTarget())
    ```
    &#34;&#34;&#34;
    @abstractmethod
    def log_to_target(self, msg:str, log_level: LogLevel):
        &#34;&#34;&#34;
        log message to target with a specific log level.

        ## Parameters:
        - `msg : str` : the message to log
        - `log_level : LogLevel` : log level of the message 
        &#34;&#34;&#34;
    @abstractmethod
    def get_log_level(self) -&gt; LogLevel:
        &#34;&#34;&#34;
        getter for the target current log level
        
        ## Return:
        `LogLevel`: the log level of the target
        &#34;&#34;&#34;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="inovopy.logger.ConsoleTarget" href="#inovopy.logger.ConsoleTarget">ConsoleTarget</a></li>
<li><a title="inovopy.logger.RollingFileTarget" href="#inovopy.logger.RollingFileTarget">RollingFileTarget</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="inovopy.logger.LogTarget.get_log_level"><code class="name flex">
<span>def <span class="ident">get_log_level</span></span>(<span>self) â€‘>Â <a title="inovopy.logger.LogLevel" href="#inovopy.logger.LogLevel">LogLevel</a></span>
</code></dt>
<dd>
<div class="desc"><p>getter for the target current log level</p>
<h2 id="return">Return:</h2>
<p><code><a title="inovopy.logger.LogLevel" href="#inovopy.logger.LogLevel">LogLevel</a></code>: the log level of the target</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def get_log_level(self) -&gt; LogLevel:
    &#34;&#34;&#34;
    getter for the target current log level
    
    ## Return:
    `LogLevel`: the log level of the target
    &#34;&#34;&#34;</code></pre>
</details>
</dd>
<dt id="inovopy.logger.LogTarget.log_to_target"><code class="name flex">
<span>def <span class="ident">log_to_target</span></span>(<span>self, msg:Â str, log_level:Â <a title="inovopy.logger.LogLevel" href="#inovopy.logger.LogLevel">LogLevel</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>log message to target with a specific log level.</p>
<h2 id="parameters">Parameters:</h2>
<ul>
<li><code>msg : str</code> : the message to log</li>
<li><code>log_level : LogLevel</code> : log level of the message</li>
</ul></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def log_to_target(self, msg:str, log_level: LogLevel):
    &#34;&#34;&#34;
    log message to target with a specific log level.

    ## Parameters:
    - `msg : str` : the message to log
    - `log_level : LogLevel` : log level of the message 
    &#34;&#34;&#34;</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="inovopy.logger.Logger"><code class="flex name class">
<span>class <span class="ident">Logger</span></span>
</code></dt>
<dd>
<div class="desc"><h1 id="logger">Logger</h1>
<p>A class for managing different logging target.</p>
<p>Allow you to log to different logging target with only one line.</p>
<h2 id="example">Example</h2>
<pre><code class="language-python">from inovopy.logger import Logger
example_logger = Logger.default()
example_logger = Logger.default(&quot;Example&quot;)
example_logger.trace(&quot;This is a tracing level message.&quot;)
example_logger.debug(&quot;This is a debug level message.&quot;)
example_logger.info(&quot;This is a info level message.&quot;)
example_logger.warn(&quot;This is a warn level message.&quot;)
example_logger.error(&quot;This is a error level message.&quot;)
</code></pre>
<p>initalize the logger with no logging target</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Logger:
    &#34;&#34;&#34;
    # Logger
    A class for managing different logging target.

    Allow you to log to different logging target with only one line.

    ## Example
    ```python
    from inovopy.logger import Logger
    example_logger = Logger.default()
    example_logger = Logger.default(&#34;Example&#34;)
    example_logger.trace(&#34;This is a tracing level message.&#34;)
    example_logger.debug(&#34;This is a debug level message.&#34;)
    example_logger.info(&#34;This is a info level message.&#34;)
    example_logger.warn(&#34;This is a warn level message.&#34;)
    example_logger.error(&#34;This is a error level message.&#34;)
    ```
    &#34;&#34;&#34;
    def __init__(self):
        &#34;&#34;&#34;
        initalize the logger with no logging target
        &#34;&#34;&#34;
        self.__targets : list[LogTarget] = []

    def log(self, msg: str, log_level: LogLevel):
        &#34;&#34;&#34;
        log a message with a specified log level to all of logger&#39;s target

        the input message will be tag with its log level

        e.g. a message `abc` with level `DEBUG` will be formatted as  `DEBUG  | abc`

        the message will only log to the target if the target&#39;s log level
        if smaller than the message logging level

        ## Parameter:
        - `msg : str` : message to log
        - `log_level` : log level of the message
        &#34;&#34;&#34;
        msg = f&#34;{log_level.to_str(): &lt;6} | {msg}&#34;
        for target in self.__targets:
            if target.get_log_level() &lt;= log_level:
                target.log_to_target(msg, log_level)

    def add_target(self, target: LogTarget):
        &#34;&#34;&#34;
        add a logging target to the logger

        ## Parameter
        - `target: LogTarget` : an object that implement `LogTarget`
        &#34;&#34;&#34;
        self.__targets.append(target)

    @classmethod
    def default(cls, name:str) -&gt; &#39;Logger&#39;:
        &#34;&#34;&#34;
        construct an default logger for command usage

        it contain a console target, and a rolling files targets.

        ## Parameters:
        - `name : str` : the name to initalize the target with

        ## Return:
        `Logger` : the constructed logger
        &#34;&#34;&#34;
        logger = Logger()
        logger.add_default_target(name)
        return logger

    def add_default_target(self, name: str):
        &#34;&#34;&#34;
        add default target to a logger

        it contain a console target, and a rolling files targets.

       ## Parameters:
        - `name : str` : the name to initalize the target with
        &#34;&#34;&#34;
        self.add_target(ConsoleTarget(name=name))
        self.add_target(RollingFileTarget(name=name))

    def trace(self, msg: str):
        &#34;&#34;&#34;
        log a message with `TRACE` level

        ## Parameter:
        - `msg : str` : message to log
        &#34;&#34;&#34;
        return self.log(msg, LogLevel.TRACE)

    def debug(self, msg: str):
        &#34;&#34;&#34;
        log a message with `DEBUG` level

        ## Parameter:
        - `msg : str` : message to log
        &#34;&#34;&#34;
        return self.log(msg, LogLevel.DEBUG)

    def info(self, msg: str):
        &#34;&#34;&#34;
        log a message with `INFO` level

        ## Parameter:
        - `msg : str` : message to log
        &#34;&#34;&#34;
        return self.log(msg, LogLevel.INFO)

    def warn(self, msg: str):
        &#34;&#34;&#34;
        log a message with `WARN` level

        ## Parameter:
        - `msg : str` : message to log
        &#34;&#34;&#34;
        return self.log(msg, LogLevel.WARN)

    def error(self, msg: str):
        &#34;&#34;&#34;
        log a message with `ERROR` level

        ## Parameter:
        - `msg : str` : message to log
        &#34;&#34;&#34;
        return self.log(msg, LogLevel.ERROR)</code></pre>
</details>
<h3>Static methods</h3>
<dl>
<dt id="inovopy.logger.Logger.default"><code class="name flex">
<span>def <span class="ident">default</span></span>(<span>name:Â str) â€‘>Â <a title="inovopy.logger.Logger" href="#inovopy.logger.Logger">Logger</a></span>
</code></dt>
<dd>
<div class="desc"><p>construct an default logger for command usage</p>
<p>it contain a console target, and a rolling files targets.</p>
<h2 id="parameters">Parameters:</h2>
<ul>
<li><code>name : str</code> : the name to initalize the target with</li>
</ul>
<h2 id="return">Return:</h2>
<p><code><a title="inovopy.logger.Logger" href="#inovopy.logger.Logger">Logger</a></code> : the constructed logger</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@classmethod
def default(cls, name:str) -&gt; &#39;Logger&#39;:
    &#34;&#34;&#34;
    construct an default logger for command usage

    it contain a console target, and a rolling files targets.

    ## Parameters:
    - `name : str` : the name to initalize the target with

    ## Return:
    `Logger` : the constructed logger
    &#34;&#34;&#34;
    logger = Logger()
    logger.add_default_target(name)
    return logger</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="inovopy.logger.Logger.add_default_target"><code class="name flex">
<span>def <span class="ident">add_default_target</span></span>(<span>self, name:Â str)</span>
</code></dt>
<dd>
<div class="desc"><p>add default target to a logger</p>
<p>it contain a console target, and a rolling files targets.</p>
<h2 id="parameters">Parameters:</h2>
<ul>
<li><code>name : str</code> : the name to initalize the target with</li>
</ul></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add_default_target(self, name: str):
    &#34;&#34;&#34;
    add default target to a logger

    it contain a console target, and a rolling files targets.

   ## Parameters:
    - `name : str` : the name to initalize the target with
    &#34;&#34;&#34;
    self.add_target(ConsoleTarget(name=name))
    self.add_target(RollingFileTarget(name=name))</code></pre>
</details>
</dd>
<dt id="inovopy.logger.Logger.add_target"><code class="name flex">
<span>def <span class="ident">add_target</span></span>(<span>self, target:Â <a title="inovopy.logger.LogTarget" href="#inovopy.logger.LogTarget">LogTarget</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>add a logging target to the logger</p>
<h2 id="parameter">Parameter</h2>
<ul>
<li><code>target: LogTarget</code> : an object that implement <code><a title="inovopy.logger.LogTarget" href="#inovopy.logger.LogTarget">LogTarget</a></code></li>
</ul></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add_target(self, target: LogTarget):
    &#34;&#34;&#34;
    add a logging target to the logger

    ## Parameter
    - `target: LogTarget` : an object that implement `LogTarget`
    &#34;&#34;&#34;
    self.__targets.append(target)</code></pre>
</details>
</dd>
<dt id="inovopy.logger.Logger.debug"><code class="name flex">
<span>def <span class="ident">debug</span></span>(<span>self, msg:Â str)</span>
</code></dt>
<dd>
<div class="desc"><p>log a message with <code>DEBUG</code> level</p>
<h2 id="parameter">Parameter:</h2>
<ul>
<li><code>msg : str</code> : message to log</li>
</ul></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def debug(self, msg: str):
    &#34;&#34;&#34;
    log a message with `DEBUG` level

    ## Parameter:
    - `msg : str` : message to log
    &#34;&#34;&#34;
    return self.log(msg, LogLevel.DEBUG)</code></pre>
</details>
</dd>
<dt id="inovopy.logger.Logger.error"><code class="name flex">
<span>def <span class="ident">error</span></span>(<span>self, msg:Â str)</span>
</code></dt>
<dd>
<div class="desc"><p>log a message with <code>ERROR</code> level</p>
<h2 id="parameter">Parameter:</h2>
<ul>
<li><code>msg : str</code> : message to log</li>
</ul></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def error(self, msg: str):
    &#34;&#34;&#34;
    log a message with `ERROR` level

    ## Parameter:
    - `msg : str` : message to log
    &#34;&#34;&#34;
    return self.log(msg, LogLevel.ERROR)</code></pre>
</details>
</dd>
<dt id="inovopy.logger.Logger.info"><code class="name flex">
<span>def <span class="ident">info</span></span>(<span>self, msg:Â str)</span>
</code></dt>
<dd>
<div class="desc"><p>log a message with <code>INFO</code> level</p>
<h2 id="parameter">Parameter:</h2>
<ul>
<li><code>msg : str</code> : message to log</li>
</ul></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def info(self, msg: str):
    &#34;&#34;&#34;
    log a message with `INFO` level

    ## Parameter:
    - `msg : str` : message to log
    &#34;&#34;&#34;
    return self.log(msg, LogLevel.INFO)</code></pre>
</details>
</dd>
<dt id="inovopy.logger.Logger.log"><code class="name flex">
<span>def <span class="ident">log</span></span>(<span>self, msg:Â str, log_level:Â <a title="inovopy.logger.LogLevel" href="#inovopy.logger.LogLevel">LogLevel</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>log a message with a specified log level to all of logger's target</p>
<p>the input message will be tag with its log level</p>
<p>e.g. a message <code>abc</code> with level <code>DEBUG</code> will be formatted as
<code>DEBUG
| abc</code></p>
<p>the message will only log to the target if the target's log level
if smaller than the message logging level</p>
<h2 id="parameter">Parameter:</h2>
<ul>
<li><code>msg : str</code> : message to log</li>
<li><code>log_level</code> : log level of the message</li>
</ul></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def log(self, msg: str, log_level: LogLevel):
    &#34;&#34;&#34;
    log a message with a specified log level to all of logger&#39;s target

    the input message will be tag with its log level

    e.g. a message `abc` with level `DEBUG` will be formatted as  `DEBUG  | abc`

    the message will only log to the target if the target&#39;s log level
    if smaller than the message logging level

    ## Parameter:
    - `msg : str` : message to log
    - `log_level` : log level of the message
    &#34;&#34;&#34;
    msg = f&#34;{log_level.to_str(): &lt;6} | {msg}&#34;
    for target in self.__targets:
        if target.get_log_level() &lt;= log_level:
            target.log_to_target(msg, log_level)</code></pre>
</details>
</dd>
<dt id="inovopy.logger.Logger.trace"><code class="name flex">
<span>def <span class="ident">trace</span></span>(<span>self, msg:Â str)</span>
</code></dt>
<dd>
<div class="desc"><p>log a message with <code>TRACE</code> level</p>
<h2 id="parameter">Parameter:</h2>
<ul>
<li><code>msg : str</code> : message to log</li>
</ul></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def trace(self, msg: str):
    &#34;&#34;&#34;
    log a message with `TRACE` level

    ## Parameter:
    - `msg : str` : message to log
    &#34;&#34;&#34;
    return self.log(msg, LogLevel.TRACE)</code></pre>
</details>
</dd>
<dt id="inovopy.logger.Logger.warn"><code class="name flex">
<span>def <span class="ident">warn</span></span>(<span>self, msg:Â str)</span>
</code></dt>
<dd>
<div class="desc"><p>log a message with <code>WARN</code> level</p>
<h2 id="parameter">Parameter:</h2>
<ul>
<li><code>msg : str</code> : message to log</li>
</ul></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def warn(self, msg: str):
    &#34;&#34;&#34;
    log a message with `WARN` level

    ## Parameter:
    - `msg : str` : message to log
    &#34;&#34;&#34;
    return self.log(msg, LogLevel.WARN)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="inovopy.logger.RollingFileTarget"><code class="flex name class">
<span>class <span class="ident">RollingFileTarget</span></span>
<span>(</span><span>name:Â str, log_level:Â <a title="inovopy.logger.LogLevel" href="#inovopy.logger.LogLevel">LogLevel</a>Â =Â LogLevel.TRACE, max_roll:Â intÂ =Â 10, max_size:Â intÂ =Â 1000000)</span>
</code></dt>
<dd>
<div class="desc"><h1 id="rollingfiletarget">RollingFileTarget</h1>
<p>A class for storing log message to rolling files</p>
<h2 id="field">Field</h2>
<ul>
<li><code>name : str</code> : name of the target</li>
<li><code>log_level</code> : log level of the target</li>
<li><code>max_roll</code> : number of max files in rolling</li>
<li><code>max_size</code> : max size of the files before rolling</li>
</ul>
<h2 id="usage">Usage</h2>
<p>Rolling file targets are not enabled by default,
to enabled rolling file targets you can:
- ### Set Environment Variables
set environment variable <code>INOVO_LOG_DIR</code> to desire directory for storing logs files
- ### Set Class Variable of <code><a title="inovopy.logger.RollingFileTarget" href="#inovopy.logger.RollingFileTarget">RollingFileTarget</a></code></p>
<pre><code class="language-python">RollingFileTarget.ROOT_DIR = &quot;./your/desire/logging/path&quot;
    ```

## Rolling Files
### Directory &amp; Files
when the `ROOT_DIR` is set,
it will create sub-directory of its `name`, and a `ROOT_DIR/name/name.0.log`
and write to the file.
</code></pre>
<p>ROOT_DIR
L name
L name.0.log</p>
<pre><code>### Rolling
after the file size of the log file exceed the `max_size`
it will rolling the file `name.0.log -&gt; name.1.log` and create a new `name.0.log`
</code></pre>
<p>ROOT_DIR
L name
L name.0.log
&lt;- current writing
L name.1.log
&lt;- history
```</p>
<h3 id="rolling-limit">Rolling Limit</h3>
<p><code>max_roll</code> specify the max number of file in rolling,
if the number of file exceed <code>max_roll</code> the oldest file will be discarded.
thus keeping the all the log file never exceed a predeterminated size</p>
<p>initalize the logger</p>
<h2 id="parameter">Parameter</h2>
<ul>
<li><code>name : str</code> : name of the target</li>
<li><code>log_level</code> : log level of the target</li>
<li><code>max_roll</code> : number of max files in rolling</li>
<li><code>max_size</code> : max size of the files before rolling</li>
</ul></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class RollingFileTarget(LogTarget):
    &#34;&#34;&#34;
    # RollingFileTarget
    A class for storing log message to rolling files

    ## Field
    - `name : str` : name of the target
    - `log_level` : log level of the target
    - `max_roll` : number of max files in rolling
    - `max_size` : max size of the files before rolling

    ## Usage 
    Rolling file targets are not enabled by default,
    to enabled rolling file targets you can:
    - ### Set Environment Variables
    set environment variable `INOVO_LOG_DIR` to desire directory for storing logs files
    - ### Set Class Variable of `RollingFileTarget`
    ```python
    RollingFileTarget.ROOT_DIR = &#34;./your/desire/logging/path&#34;
        ```
    
    ## Rolling Files
    ### Directory &amp; Files
    when the `ROOT_DIR` is set,
    it will create sub-directory of its `name`, and a `ROOT_DIR/name/name.0.log`
    and write to the file.
    ```
    ROOT_DIR
        L name
            L name.0.log
    ```
    ### Rolling
    after the file size of the log file exceed the `max_size`
    it will rolling the file `name.0.log -&gt; name.1.log` and create a new `name.0.log`
    ```
    ROOT_DIR
        L name
            L name.0.log  &lt;- current writing
            L name.1.log  &lt;- history
    ```
    ### Rolling Limit
    `max_roll` specify the max number of file in rolling, 
    if the number of file exceed `max_roll` the oldest file will be discarded.
    thus keeping the all the log file never exceed a predeterminated size
    &#34;&#34;&#34;
    ROOT_DIR : Optional[str] = os.environ.get(&#34;INOVO_LOG_DIR&#34;)
    &#34;&#34;&#34;root directory of all log&#34;&#34;&#34;

    def __init__(
            self,
            name: str,
            log_level: LogLevel = LogLevel.TRACE,
            max_roll: int = 10,
            max_size: int =  1_000_000,
        ):
        &#34;&#34;&#34;
        initalize the logger
        ## Parameter
        - `name : str` : name of the target
        - `log_level` : log level of the target
        - `max_roll` : number of max files in rolling
        - `max_size` : max size of the files before rolling
        &#34;&#34;&#34;
        self.name : str = name
        self.log_level : LogLevel = log_level
        self.max_roll : int = max_roll
        self.max_size : int = max_size
        self.__f : Optional[IO] = None

    @property
    def log_dir(self)-&gt;str:
        &#34;&#34;&#34;
        get the log sub directoy of the logger
        &#34;&#34;&#34;
        root_dir : str = cast(str, RollingFileTarget.ROOT_DIR)
        return os.path.join(root_dir, self.name)

    def get_log_level(self) -&gt; LogLevel:
        return self.log_level

    def log_to_target(self, msg: str, log_level: LogLevel):
        if RollingFileTarget.ROOT_DIR is None:
            return

        if self.__f is None:
            self.roll()

        f : IO = cast(IO, self.__f)

        f.write(f&#34;{msg}\n&#34;)
        f.flush()

        if os.path.getsize(os.path.join(self.log_dir, f&#34;{self.name}.0.log&#34;)) &gt; self.max_size:
            f.close()
            self.__f = None

    def roll(self):
        &#34;&#34;&#34;
        roll all the log files
        &#34;&#34;&#34;
        if RollingFileTarget.ROOT_DIR is None:
            return

        if not os.path.isdir(self.log_dir):
            os.makedirs(self.log_dir)

        for i in reversed(range(self.max_roll)):
            try:
                os.replace(
                    os.path.join(self.log_dir, f&#34;{self.name}.{i}.log&#34;),
                    os.path.join(self.log_dir, f&#34;{self.name}.{i+1}.log&#34;)
                )
            except FileNotFoundError:
                pass

        self.__f = open(os.path.join(self.log_dir, f&#34;{self.name}.0.log&#34;), &#34;w&#34;, encoding=&#34;utf-8&#34;)

    def __del__(self):
        self.__f = None</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="inovopy.logger.LogTarget" href="#inovopy.logger.LogTarget">LogTarget</a></li>
<li>abc.ABC</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="inovopy.logger.RollingFileTarget.ROOT_DIR"><code class="name">var <span class="ident">ROOT_DIR</span> :Â Optional[str]</code></dt>
<dd>
<div class="desc"><p>root directory of all log</p></div>
</dd>
</dl>
<h3>Instance variables</h3>
<dl>
<dt id="inovopy.logger.RollingFileTarget.log_dir"><code class="name">var <span class="ident">log_dir</span> :Â str</code></dt>
<dd>
<div class="desc"><p>get the log sub directoy of the logger</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def log_dir(self)-&gt;str:
    &#34;&#34;&#34;
    get the log sub directoy of the logger
    &#34;&#34;&#34;
    root_dir : str = cast(str, RollingFileTarget.ROOT_DIR)
    return os.path.join(root_dir, self.name)</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="inovopy.logger.RollingFileTarget.roll"><code class="name flex">
<span>def <span class="ident">roll</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>roll all the log files</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def roll(self):
    &#34;&#34;&#34;
    roll all the log files
    &#34;&#34;&#34;
    if RollingFileTarget.ROOT_DIR is None:
        return

    if not os.path.isdir(self.log_dir):
        os.makedirs(self.log_dir)

    for i in reversed(range(self.max_roll)):
        try:
            os.replace(
                os.path.join(self.log_dir, f&#34;{self.name}.{i}.log&#34;),
                os.path.join(self.log_dir, f&#34;{self.name}.{i+1}.log&#34;)
            )
        except FileNotFoundError:
            pass

    self.__f = open(os.path.join(self.log_dir, f&#34;{self.name}.0.log&#34;), &#34;w&#34;, encoding=&#34;utf-8&#34;)</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="inovopy.logger.LogTarget" href="#inovopy.logger.LogTarget">LogTarget</a></b></code>:
<ul class="hlist">
<li><code><a title="inovopy.logger.LogTarget.get_log_level" href="#inovopy.logger.LogTarget.get_log_level">get_log_level</a></code></li>
<li><code><a title="inovopy.logger.LogTarget.log_to_target" href="#inovopy.logger.LogTarget.log_to_target">log_to_target</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul>
<li><a href="#logger-module">Logger Module</a><ul>
<li><a href="#classes">Classes</a></li>
<li><a href="#example">Example</a></li>
</ul>
</li>
</ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="inovopy" href="../index.html">inovopy</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="inovopy.logger.ConsoleTarget" href="#inovopy.logger.ConsoleTarget">ConsoleTarget</a></code></h4>
<ul class="">
<li><code><a title="inovopy.logger.ConsoleTarget.ConsoleColor" href="#inovopy.logger.ConsoleTarget.ConsoleColor">ConsoleColor</a></code></li>
<li><code><a title="inovopy.logger.ConsoleTarget.NAME_PAD_SIZE" href="#inovopy.logger.ConsoleTarget.NAME_PAD_SIZE">NAME_PAD_SIZE</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="inovopy.logger.LogLevel" href="#inovopy.logger.LogLevel">LogLevel</a></code></h4>
<ul class="two-column">
<li><code><a title="inovopy.logger.LogLevel.DEBUG" href="#inovopy.logger.LogLevel.DEBUG">DEBUG</a></code></li>
<li><code><a title="inovopy.logger.LogLevel.ERROR" href="#inovopy.logger.LogLevel.ERROR">ERROR</a></code></li>
<li><code><a title="inovopy.logger.LogLevel.INFO" href="#inovopy.logger.LogLevel.INFO">INFO</a></code></li>
<li><code><a title="inovopy.logger.LogLevel.NOLOG" href="#inovopy.logger.LogLevel.NOLOG">NOLOG</a></code></li>
<li><code><a title="inovopy.logger.LogLevel.TRACE" href="#inovopy.logger.LogLevel.TRACE">TRACE</a></code></li>
<li><code><a title="inovopy.logger.LogLevel.WARN" href="#inovopy.logger.LogLevel.WARN">WARN</a></code></li>
<li><code><a title="inovopy.logger.LogLevel.to_str" href="#inovopy.logger.LogLevel.to_str">to_str</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="inovopy.logger.LogTarget" href="#inovopy.logger.LogTarget">LogTarget</a></code></h4>
<ul class="">
<li><code><a title="inovopy.logger.LogTarget.get_log_level" href="#inovopy.logger.LogTarget.get_log_level">get_log_level</a></code></li>
<li><code><a title="inovopy.logger.LogTarget.log_to_target" href="#inovopy.logger.LogTarget.log_to_target">log_to_target</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="inovopy.logger.Logger" href="#inovopy.logger.Logger">Logger</a></code></h4>
<ul class="two-column">
<li><code><a title="inovopy.logger.Logger.add_default_target" href="#inovopy.logger.Logger.add_default_target">add_default_target</a></code></li>
<li><code><a title="inovopy.logger.Logger.add_target" href="#inovopy.logger.Logger.add_target">add_target</a></code></li>
<li><code><a title="inovopy.logger.Logger.debug" href="#inovopy.logger.Logger.debug">debug</a></code></li>
<li><code><a title="inovopy.logger.Logger.default" href="#inovopy.logger.Logger.default">default</a></code></li>
<li><code><a title="inovopy.logger.Logger.error" href="#inovopy.logger.Logger.error">error</a></code></li>
<li><code><a title="inovopy.logger.Logger.info" href="#inovopy.logger.Logger.info">info</a></code></li>
<li><code><a title="inovopy.logger.Logger.log" href="#inovopy.logger.Logger.log">log</a></code></li>
<li><code><a title="inovopy.logger.Logger.trace" href="#inovopy.logger.Logger.trace">trace</a></code></li>
<li><code><a title="inovopy.logger.Logger.warn" href="#inovopy.logger.Logger.warn">warn</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="inovopy.logger.RollingFileTarget" href="#inovopy.logger.RollingFileTarget">RollingFileTarget</a></code></h4>
<ul class="">
<li><code><a title="inovopy.logger.RollingFileTarget.ROOT_DIR" href="#inovopy.logger.RollingFileTarget.ROOT_DIR">ROOT_DIR</a></code></li>
<li><code><a title="inovopy.logger.RollingFileTarget.log_dir" href="#inovopy.logger.RollingFileTarget.log_dir">log_dir</a></code></li>
<li><code><a title="inovopy.logger.RollingFileTarget.roll" href="#inovopy.logger.RollingFileTarget.roll">roll</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>